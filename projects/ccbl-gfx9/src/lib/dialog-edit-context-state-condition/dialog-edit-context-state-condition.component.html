<section class="content">
  <section class="start" *ngIf="canHaveStartEvent">
    <mat-checkbox [ngModel]="!!newContext.eventStart"
                  (ngModelChange) = "enableEvent($event, 'eventStart')"
    >
      Start event
    </mat-checkbox> <br/>
    <lib-ccbl-event-expression  *ngIf                 = "hasEvent('eventStart')"
                                [evt]                 = "newContext.eventStart!"
                                [program]             = "program"
                                (update)              = "newContext.eventStart = $event"
                                #eventStart
                                (click)               = "eventStart.editEvent()"
                                ></lib-ccbl-event-expression>
    <hr/>
  </section>
  <section class="during" *ngIf="canHaveState">
    <mat-checkbox [ngModel]="!!newContext.state"
                  (ngModelChange) = "enableState($event)"
    >
      During condition
    </mat-checkbox> <br/>
    <lib-ccbl-expression #stateExpr
                         *ngIf                  = "!!newContext.state"
                         [expression]           = "newContext.state"
                         [editable]             = "true"
                         [program]              = "program"
                         [canExpressTransition] = "true"
                         (click)                = "stateExpr.edit()"
                         (update)               = "newContext.state = $event"
                         ></lib-ccbl-expression>
    <hr/>
  </section>
  <section class="finish" *ngIf="canHaveFinishEvent">
    <mat-checkbox [ngModel]="!!newContext.eventFinish"
                  (ngModelChange) = "enableEvent($event, 'eventFinish')"
    >
      Finish event
    </mat-checkbox> <br/>
    <lib-ccbl-event-expression  *ngIf      = "hasEvent('eventFinish')"
                                [evt]      = "newContext.eventFinish!"
                                [program]  = "program"
                                (update)   = "newContext.eventFinish = $event"
                                (click)    = "eventFinish.editEvent()"
                                #eventFinish
                                ></lib-ccbl-event-expression>
    <hr/>
  </section>
</section>


<section class="okcancel">
  <button (click)="cancel()" mat-raised-button color="warn">
    Cancel
  </button>
  <button (click)="ok()" mat-raised-button color="primary">
    OK
  </button>
</section>
